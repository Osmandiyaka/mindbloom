:root[data-theme-id="neumorphism-light"] {
    --neumo-background: #e7ecf5;
    --neumo-surface: #f7f9fd;
    --neumo-highlight: rgba(255, 255, 255, 0.92);
    --neumo-shadow-color: rgba(163, 177, 198, 0.35);
    --neumo-shadow-outer: 16px 16px 32px var(--neumo-shadow-color), -16px -16px 32px var(--neumo-highlight);
    --neumo-shadow-soft: 12px 12px 24px var(--neumo-shadow-color), -12px -12px 24px var(--neumo-highlight);
    --neumo-shadow-pill: 10px 10px 20px rgba(163, 177, 198, 0.32), -10px -10px 20px rgba(255, 255, 255, 0.92);
    --neumo-shadow-inset: inset 8px 8px 16px rgba(163, 177, 198, 0.38), inset -8px -8px 16px rgba(255, 255, 255, 0.94);
    --neumo-shadow-inset-strong: inset 10px 10px 20px rgba(163, 177, 198, 0.42), inset -10px -10px 20px rgba(255, 255, 255, 0.9);
    --neumo-glow: 0 14px 34px rgba(var(--color-primary-rgb, 138, 159, 249), 0.32);
    --motion-ease: cubic-bezier(0.4, 0.14, 0.3, 1);
    --motion-duration: 220ms;
}

[data-theme-id="neumorphism-light"] body {
    background:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.95), transparent 35%),
        radial-gradient(circle at 80% 0%, rgba(154, 183, 255, 0.18), transparent 40%),
        radial-gradient(circle at 10% 80%, rgba(111, 193, 255, 0.12), transparent 35%),
        var(--neumo-background);
    color: var(--color-text-primary);
}

[data-theme-id="neumorphism-light"] .app-shell {
    background: transparent;
}

[data-theme-id="neumorphism-light"] .app-content {
    background: transparent;
    padding: 24px;
}

[data-theme-id="neumorphism-light"] .sidebar {
    background: var(--neumo-surface);
    border-right: 1px solid var(--color-border-light);
    box-shadow: var(--shadow-lg), var(--neumo-shadow-soft);

    .nav-section-title {
        color: var(--color-text-tertiary);
        letter-spacing: 0.08em;
    }

    .nav-item a {
        margin: 2px 12px;
        border-radius: 14px;
        background: var(--neumo-surface);
        border: 1px solid transparent;
        box-shadow: var(--neumo-shadow-soft);

        &:hover {
            background: var(--color-surface-hover);
            color: var(--color-text-primary);
            box-shadow: var(--neumo-shadow-outer);
        }

        &.active {
            background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
            color: #ffffff;
            box-shadow: var(--neumo-glow);

            &::before {
                display: none;
            }
        }
    }

    .user-profile {
        background: var(--neumo-surface);
        box-shadow: var(--neumo-shadow-soft);

        &:hover {
            box-shadow: var(--neumo-shadow-outer);
        }

        .user-avatar {
            box-shadow: var(--neumo-shadow-soft);
        }
    }
}

[data-theme-id="neumorphism-light"] .global-toolbar {
    border-bottom: none;
    box-shadow: var(--neumo-shadow-soft);
    background: var(--neumo-surface);

    .toolbar-btn {
        background: var(--neumo-surface);
        box-shadow: var(--neumo-shadow-soft);
        border: 1px solid transparent;

        &:hover {
            background: var(--color-surface-hover);
            box-shadow: var(--neumo-shadow-outer);
        }
    }

    .school-name {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        box-shadow: var(--neumo-glow);
    }

    .search-input {
        border: 1px solid var(--color-border-light);
        background: var(--neumo-surface);
        box-shadow: var(--neumo-shadow-inset);

        &:focus {
            box-shadow: var(--neumo-shadow-inset-strong), 0 0 0 2px rgba(var(--color-primary-rgb, 138, 159, 249), 0.2);
        }
    }
}

[data-theme-id="neumorphism-light"] .card,
[data-theme-id="neumorphism-light"] .data-table,
[data-theme-id="neumorphism-light"] .table-toolbar,
[data-theme-id="neumorphism-light"] .table-footer,
[data-theme-id="neumorphism-light"] .theme-dropdown,
[data-theme-id="neumorphism-light"] .theme-toggle {
    background: var(--neumo-surface);
    border: 1px solid var(--color-border-light);
    box-shadow: var(--neumo-shadow-outer);
    border-radius: 18px;
    transition: background var(--motion-duration) var(--motion-ease), box-shadow var(--motion-duration) var(--motion-ease), transform var(--motion-duration) var(--motion-ease);

    &:hover {
        transform: translateY(-2px);
        box-shadow: var(--neumo-shadow-outer), 0 12px 30px rgba(123, 140, 255, 0.15);
    }
}

[data-theme-id="neumorphism-light"] .pill-surface {
    background: var(--neumo-surface);
    box-shadow: var(--neumo-shadow-pill);
}

[data-theme-id="neumorphism-light"] .card {
    .card-header,
    .card-footer {
        border-color: var(--color-border-light);
    }
}

[data-theme-id="neumorphism-light"] .stats-card .stats-icon {
    background: var(--color-background);
    box-shadow: var(--neumo-shadow-inset);
}

[data-theme-id="neumorphism-light"] .data-table {
    table {
        thead {
            background: var(--neumo-surface);
            box-shadow: var(--neumo-shadow-inset);
        }

        tbody tr {
            border-bottom-color: var(--color-border);

            &:hover {
                background: var(--color-surface-hover);
                box-shadow: inset 2px 2px 4px rgba(163, 177, 198, 0.25), inset -2px -2px 4px rgba(255, 255, 255, 0.9);
            }
        }
    }

    .table-footer {
        background: var(--neumo-surface);
    }
}

[data-theme-id="neumorphism-light"] .form-control {
    background: var(--neumo-surface);
    border: 1px solid var(--color-border-light);
    box-shadow: var(--neumo-shadow-inset);
    border-radius: 12px;
    color: var(--color-text-primary);

    &::placeholder {
        color: var(--color-text-tertiary);
    }

    &:focus {
        border-color: var(--color-primary);
        box-shadow: var(--neumo-shadow-inset-strong), 0 0 0 2px rgba(var(--color-primary-rgb, 138, 159, 249), 0.2);
    }

    &:disabled {
        box-shadow: inset 4px 4px 8px rgba(163, 177, 198, 0.25), inset -4px -4px 8px rgba(255, 255, 255, 0.8);
    }
}

[data-theme-id="neumorphism-light"] input:not([type="checkbox"]):not([type="radio"]):not([type="submit"]):not([type="button"]),
[data-theme-id="neumorphism-light"] select,
[data-theme-id="neumorphism-light"] textarea {
    background: var(--neumo-surface);
    border: 1px solid var(--color-border-light);
    border-radius: 12px;
    box-shadow: var(--neumo-shadow-inset);
    color: var(--color-text-primary);

    &:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: var(--neumo-shadow-inset-strong), 0 0 0 2px rgba(var(--color-primary-rgb, 138, 159, 249), 0.2);
    }
}

[data-theme-id="neumorphism-light"] .btn {
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.6);
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.94), rgba(232, 238, 248, 0.9));
    color: var(--color-text-primary);
    box-shadow: var(--neumo-shadow-pill);
    transition: background var(--motion-duration) var(--motion-ease), box-shadow var(--motion-duration) var(--motion-ease), transform var(--motion-duration) var(--motion-ease);

    &:hover:not(:disabled) {
        box-shadow: var(--neumo-shadow-outer);
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.96), rgba(232, 238, 248, 0.95));
        transform: translateY(-1px);
    }

    &:active:not(:disabled) {
        box-shadow: var(--neumo-shadow-inset);
        transform: translateY(0);
    }

    &.btn-primary {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        color: #ffffff;
        box-shadow: var(--neumo-glow), var(--neumo-shadow-soft);

        &:hover:not(:disabled) {
            box-shadow: var(--neumo-glow), var(--neumo-shadow-outer);
        }

        &:active:not(:disabled) {
            box-shadow: var(--neumo-shadow-inset);
        }
    }

    &.btn-secondary {
        background: var(--neumo-surface);
    }

    &.btn-icon {
        border-radius: 12px;
        box-shadow: var(--neumo-shadow-pill);
    }
}

[data-theme-id="neumorphism-light"] .theme-selector .theme-dropdown {
    box-shadow: var(--neumo-shadow-outer);
}

[data-theme-id="neumorphism-light"] .theme-selector .theme-option {
    border-radius: 12px;
    box-shadow: var(--neumo-shadow-soft);
    border: 1px solid transparent;

    &:hover {
        box-shadow: var(--neumo-shadow-outer);
    }

    &.active {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        color: #ffffff;
        box-shadow: var(--neumo-glow);

        .check {
            color: #ffffff;
        }
    }
}

[data-theme-id="neumorphism-light"] .data-table .table-pagination button {
    background: var(--neumo-surface);
    border: 1px solid var(--color-border-light);
    box-shadow: var(--neumo-shadow-pill);
    border-radius: 12px;

    &:hover:not(:disabled) {
        box-shadow: var(--neumo-shadow-outer);
        color: var(--color-primary);
    }

    &.active {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        color: #ffffff;
        box-shadow: var(--neumo-glow);
    }
}

[data-theme-id="neumorphism-light"] .form-group label {
    color: var(--color-text-secondary);
}

[data-theme-id="neumorphism-light"] .input-group .input-group-text {
    background: var(--neumo-surface);
    border: 1px solid var(--color-border-light);
    box-shadow: var(--neumo-shadow-inset);
}

[data-theme-id="neumorphism-light"] .form-check input[type="checkbox"],
[data-theme-id="neumorphism-light"] .form-check input[type="radio"] {
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 6px;
    border: 1px solid var(--color-border);
    background: var(--neumo-surface);
    box-shadow: var(--neumo-shadow-inset);
    position: relative;

    &:checked {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        box-shadow: var(--neumo-glow);
    }

    &::after {
        content: '';
        position: absolute;
        inset: 4px;
        background: #ffffff;
        border-radius: inherit;
        opacity: 0.8;
    }
}

[data-theme-id="neumorphism-light"] .form-check input[type="radio"] {
    border-radius: 50%;

    &::after {
        border-radius: 50%;
    }
}

[data-theme-id="neumorphism-light"] .search-input .form-control {
    box-shadow: var(--neumo-shadow-inset);
    background: var(--neumo-surface);
}

[data-theme-id="neumorphism-light"] .table-toolbar,
[data-theme-id="neumorphism-light"] .table-footer {
    border-color: var(--color-border-light);
}

// ========================================
// STUDENT WIZARD
// ========================================
[data-theme-id="neumorphism-light"] .wizard-container {
    background: var(--neumo-background);

    .progress-steps {
        background: var(--neumo-surface);
        color: var(--color-text-primary);
        box-shadow: var(--neumo-shadow-outer);
        border-radius: 18px;
        margin: 24px;
        padding: 2.5rem 2rem;

        .wizard-subtitle {
            color: var(--color-text-tertiary);
        }
    }

    .step {
        padding: 1.25rem 0;

        &:not(:last-child)::after {
            background: var(--color-border);
        }

        .step-circle {
            background: var(--neumo-surface);
            border-color: var(--color-border);
            color: var(--color-text-secondary);
            box-shadow: var(--neumo-shadow-pill);
        }

        .step-title {
            color: var(--color-text-secondary);
        }

        .step-status {
            color: var(--color-text-tertiary);
        }

        &.active {
            .step-circle {
                background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
                color: #ffffff;
                border-color: transparent;
                box-shadow: var(--neumo-glow);
            }

            .step-title {
                color: var(--color-text-primary);
            }

            .step-status {
                color: var(--color-primary);
            }
        }

        &.completed {
            &::after {
                background: var(--color-success);
            }

            .step-circle {
                background: linear-gradient(145deg, var(--color-success), #5ebd9e);
                border-color: transparent;
                color: #ffffff;
                box-shadow: var(--neumo-shadow-soft);
            }

            .step-title {
                color: var(--color-text-primary);
            }

            .step-status {
                color: var(--color-success);
            }
        }
    }

    .progress-bar {
        background: var(--color-border);
    }

    .progress-fill {
        background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-success) 100%);
        box-shadow: var(--neumo-shadow-soft);
    }

    .progress-text {
        color: var(--color-text-tertiary);
    }

    .form-content {
        background: transparent;
        padding: 3rem 3rem 2.5rem;
    }

    .content-with-sidebar {
        background: transparent;
        max-width: 1400px;
        gap: 2.5rem;
    }

    .main-form-area,
    .review-section,
    .guardian-card,
    .photo-upload-card,
    .btn-add-guardian {
        background: var(--neumo-surface);
        border: 1px solid var(--color-border-light);
        box-shadow: var(--neumo-shadow-outer);
        border-radius: 16px;
        flex: 1.25;
        min-width: 0;
    }

    .photo-preview {
        background: var(--neumo-surface);
        border-color: var(--color-border-light);
        box-shadow: var(--neumo-shadow-soft);
    }

    .photo-placeholder {
        background: var(--color-surface-hover);
        color: var(--color-text-tertiary);
    }

    .photo-sidebar {
        width: 320px;
        flex-shrink: 0;
    }

    .btn-photo-action,
    .btn-upload,
    .btn-remove,
    .btn-text,
    .btn-icon-danger,
    .btn-add-item,
    .btn-remove-item {
        border-radius: 14px;
        border: 1px solid var(--color-border-light);
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.94), rgba(232, 238, 248, 0.92));
        color: var(--color-text-primary);
        box-shadow: var(--neumo-shadow-pill);

        &:hover {
            box-shadow: var(--neumo-shadow-outer);
            color: var(--color-primary);
        }
    }

    .btn-photo-action:first-child,
    .btn-upload,
    .btn-save,
    .btn-save-new,
    .btn-next {
        background: linear-gradient(145deg, var(--color-primary-light), var(--color-primary));
        color: #ffffff;
        box-shadow: var(--neumo-glow);
        border: 1px solid rgba(255, 255, 255, 0.5);

        &:hover:not(:disabled) {
            box-shadow: var(--neumo-shadow-outer), var(--neumo-glow);
        }

        &:active:not(:disabled) {
            box-shadow: var(--neumo-shadow-inset);
        }
    }

    .btn-remove,
    .btn-icon-danger {
        background: linear-gradient(145deg, var(--color-error), #d35463);
        color: #ffffff;
        border-color: transparent;
        box-shadow: 0 12px 24px rgba(var(--color-error-rgb, 239, 143, 156), 0.35);
    }

    .btn-back,
    .btn-cancel {
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.94), rgba(232, 238, 248, 0.92));
        color: var(--color-text-secondary);
        box-shadow: var(--neumo-shadow-pill);

        &:hover:not(:disabled) {
            color: var(--color-primary);
            box-shadow: var(--neumo-shadow-outer);
        }
    }

    .btn-save {
        background: linear-gradient(145deg, var(--color-success), #5ebd9e);
        box-shadow: 0 12px 24px rgba(var(--color-success-rgb, 105, 195, 170), 0.35);
    }

    .btn-save-new {
        background: linear-gradient(145deg, var(--color-accent), #8e7ff3);
        box-shadow: 0 12px 24px rgba(var(--color-accent-rgb, 159, 143, 247), 0.35);
    }

    .btn-add-guardian {
        border-style: solid;
    }

    .subsection-title {
        border-color: var(--color-border);
        color: var(--color-text-primary);
    }

    .guardian-card {
        .btn-text {
            background: transparent;
            box-shadow: none;
            color: var(--color-primary);

            &:hover {
                text-decoration: underline;
                box-shadow: none;
            }
        }

        .btn-icon-danger {
            box-shadow: var(--neumo-shadow-pill);
        }
    }

    .form-actions {
        background: var(--neumo-surface);
        border-top: 1px solid var(--color-border-light);
        box-shadow: var(--neumo-shadow-soft);
    }

    .card-header {
        border-color: var(--color-border-light);
    }

    .primary-badge {
        background: rgba(var(--color-primary-rgb, 138, 159, 249), 0.12);
        color: var(--color-primary);
    }
}
