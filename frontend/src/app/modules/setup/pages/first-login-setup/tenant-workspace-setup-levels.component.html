<div class="setup-body">
    <div class="setup-section">
        <h2>Academic levels</h2>
        <p>Choose a template, then adjust the list to match your structure.</p>

        <div class="choice-grid">
            <button type="button" class="choice-card"
                [class.active]="vm.levelsTemplate() === 'k12'" (click)="vm.setLevelsTemplate('k12')">
                <div class="choice-title">K–12</div>
                <div class="choice-text">Kindergarten through Grade 12.</div>
            </button>
            <button type="button" class="choice-card"
                [class.active]="vm.levelsTemplate() === 'primary_secondary'"
                (click)="vm.setLevelsTemplate('primary_secondary')">
                <div class="choice-title">Primary / Secondary</div>
                <div class="choice-text">Split primary and secondary levels.</div>
            </button>
            <button type="button" class="choice-card"
                [class.active]="vm.levelsTemplate() === 'custom'"
                (click)="vm.setLevelsTemplate('custom')">
                <div class="choice-title">Custom</div>
                <div class="choice-text">Build your own list of levels.</div>
            </button>
        </div>

        <div class="list-stack">
            <div class="list-row" *ngFor="let level of vm.levels(); let i = index">
                <mb-form-field label="Level" [controlId]="'level-' + i">
                    <mb-input [id]="'level-' + i" [value]="level"
                        (valueChange)="vm.updateLevel(i, $event)"></mb-input>
                </mb-form-field>
                <button type="button" class="list-remove" *ngIf="vm.levels().length > 1"
                    (click)="vm.removeLevel(i)">Remove</button>
            </div>
        </div>

        <div class="setup-error" *ngIf="vm.levelsError()">{{ vm.levelsError() }}</div>

        <button type="button" class="list-add" (click)="vm.addLevel()">Add level</button>
    </div>

    <div class="setup-footer">
        <div class="setup-footer__actions">
            <mb-button variant="secondary" (click)="vm.back()">Back</mb-button>
            <mb-button variant="primary" [disabled]="!vm.canContinue()"
                (click)="vm.next()">Continue</mb-button>
        </div>
        <div class="setup-footer__aside">
            <button type="button" class="setup-skip-link" (click)="vm.skipSetup()">Skip for
                now</button>
        </div>
    </div>
    <div class="setup-auto-save"><span aria-hidden="true">✓</span> Configuration changes are
        saved automatically.</div>
</div>
